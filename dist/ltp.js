!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.ltp=r():t.ltp=r()}(window,(function(){return function(t){var r={};function e(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var s in t)e.d(n,s,function(r){return t[r]}.bind(null,s));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=1)}([function(t,r,e){let n=e(3);t.exports=new class{constructor(){this.bracketPairs={"(":")","{":"}","[":"]"}}get(t,r){return r||(r=0),t.substring(r+1,this.findEnd(t,r))}findEnd(t,r){let e,s,a=[];for(let n of Object.keys(this.bracketPairs))t[r]==n&&(e=n,s=this.bracketPairs[n]);if(null==e)throw new n(void 0,void 0,"Expression not starting with a bracket was sent to bracket parser.");a.push(e);let i=r;for(;a.length>0;){if(++i>t.length-1)throw new n(t,r);t[i]==e?a.push(e):t[i]==s&&a.pop()}return i}}},function(t,r,e){"use strict";t.exports=function(t){let r=e(2),n=e(5),s=e(7);var a,i;try{return a=r.clean(t),i=s.parse(a),n.translate(i)}catch(t){console.log(t)}}},function(t,r,e){"use strict";let n=e(0),s=e(4);t.exports=new class{constructor(){this.expression=""}clean(t){return this.expression=t,this.cleanRecursively()}cleanRecursively(){let t=this.expression;for(this.runRegisteredCleaners();t!=this.expression;)t=this.expression,this.runRegisteredCleaners();return this.expression}runRegisteredCleaners(){this.cleanTextColor(),this.convertOperators(),this.cleanLeftRight(),this.cleanText(),this.cleanThingies()}cleanTextColor(){this.replaceFunctionWithParameter("\\textcolor",2,2)}cleanText(){this.cleanFunctionWithParameter("\\text",1)}cleanLeftRight(){this.expression=this.expression.replace(/(\\left)|(\\right)/gi,"")}cleanThingies(){let t=/\[\d+?pt\]/gi;this.expression=this.expression.replace(t,""),t="&",this.expression=this.expression.replace(t," ")}convertOperators(){var t;t=/(\\cdot)|(\\times)/gi,this.expression=this.expression.replace(t,"*"),t="\\div",this.expression=this.expression.replace(t,"/"),t=/(\\leq)|(\\lt)|(\\geq)|(\\gt)/gi,this.expression=this.expression.replace(t,t=>{switch(t){case"\\leq":return"<=";case"\\lt":return"<";case"\\geq":return">=";case"\\gt":return">"}})}indexedReplacement(t,r,e,n){let s=t.slice(0,r)+n;return{expression:s+t.slice(e,t.length),replacementEndPos:s.length-1}}replaceFunctionWithParameter(t,r,e){let a=t,i=this.expression.indexOf(a,0);for(;-1!=i;){let t=i+(a.length-1),o=0;for(let e=0;e<r-1;++e){if(-1==(o=this.expression.indexOf("{",t)))throw new s(this.expression,i,"Missing arguments");t=n.findEnd(this.expression,o)}if(-1==(o=this.expression.indexOf("{",t)))throw new s(this.expression,i,"Missing arguments");let u=n.get(this.expression,o);t=n.findEnd(this.expression,o);for(let a=r;a<e;++a){if(-1==(o=this.expression.indexOf("{",t)))throw new s(this.expression,i,"Missing arguments");t=n.findEnd(this.expression,o)}let c=this.indexedReplacement(this.expression,i,t+1,u);this.expression=c.expression,i=this.expression.indexOf(a,c.replacementEndPos)}}cleanFunctionWithParameter(t,r){let e=t,a=this.expression.indexOf(e,0);for(;-1!=a;){let t=a+(e.length-1);for(let i=0;i<r;++i){let r=this.expression.indexOf("{",t);if(-1==r)throw new s(this.expression,a,"Missing arguments");t=n.findEnd(this.expression,r);let i=this.indexedReplacement(this.expression,a,t+1,"");this.expression=i.expression,a=this.expression.indexOf(e,i.replacementEndPos)}}}}},function(t,r){Error},function(t,r){class e extends Error{constructor(t,r,e){if(super(e),this.name="CleanerError",this.CONTEXT_LENGTH=10,t){let n=r+this.CONTEXT_LENGTH>t.length?t.length:r+this.CONTEXT_LENGTH,s=t.substr(r,n);this.message=e+":"+s}}}t.exports=e},function(t,r,e){let n=e(0),s=e(6);t.exports=new class{constructor(){this.funcTranslations={regular:t=>`${t.arg[0]}(${t.arg[1]})`,abs:t=>`abs(${t.arg[0]})`,sqrt:t=>2==t.arg.length?`root(${t.arg[0]}, ${t.arg[1]})`:`root2(${t.arg[0]})`,integral:t=>2==t.arg.length?`integral(${t.arg[0]}, ${t.arg[1]})`:`definiteintegral(${t.arg[0]}, ${t.arg[1]}, ${t.arg[2]}, ${t.arg[3]})`,fraction:t=>`{{${t.arg[0]}}/{${t.arg[1]}}}`,derivative:t=>`derivation(${t.arg[1]}, ${t.arg[2]})`,latex_function:t=>(t.arg[1]=n.get(t.arg[1]),`function(${t.arg[0]}, ${t.arg[1]})=${t.arg[2]}`),latex_function_inverse:t=>(t.arg[1]=n.get(t.arg[1]),`function_inverse(${t.arg[0]}, ${t.arg[1]})=${t.arg[2]}`),binomial:t=>`choose(${t.arg[0]}, ${t.arg[1]})`,logarithm:t=>`log(${t.arg[0]}, ${t.arg[1]})`,logarithm_10:t=>`log10(${t.arg[0]})`,logarithm_ln:t=>`ln(${t.arg[0]})`,limit:t=>`lim(${t.arg[0]}, ${t.arg[1]}, ${t.arg[2]})`,mean:t=>`mean(${t.arg[0]})`,degrees:t=>`deg(${t.arg[0]})`}}translate(t){var r;switch(t.type){case"root":r=this.translateRoot(t);break;case"environment":r=this.translateEnvironment(t);break;case"expression":r=this.translateExpression(t);break;case"function":r=this.translateFunction(t);break;case"calcunit":r=this.translateCalcunit(t);break;case"char":r=this.translateChar(t);break;default:throw new s(t)}return r}translateRoot(t){var r="";for(let e of t.arg)r+=this.translateExpression(e);return r}translateExpression(t){var r,e,n;switch(t.bracketType){case"curly":e="{",n="}";break;case"round":e="(",n=")";break;case"square":e="[",n="]";break;default:e="",n=""}r=e;for(let e of t.arg)switch(e.type){case"root":r+=this.translateRoot(e);break;case"environment":r+=this.translateEnvironment(e);break;case"expression":r+=this.translateExpression(e);break;case"function":r+=this.translateFunction(e);break;case"calcunit":r+=this.translateCalcunit(e);break;case"char":r+=e.arg;break;default:throw new s(e)}return r+=n}translateChar(t){return t.arg}translateFunction(t){let r=t.name,e=this.funcTranslations[r];for(let r=0;r<t.arg.length;++r)t.arg[r]=this.translate(t.arg[r]),"{"!=t.arg[r][0]&&"["!=t.arg[r][0]||(t.arg[r]=n.get(t.arg[r]));return t.exponent?"{"+e(t)+"}^"+this.translate(t.exponent):e(t)}translateCalcunit(t){var r="";for(let e of t.arg)r+=this.translateChar(e);return r}translateEnvironment(t){var r;switch(t.envType){case"system":r=this.translateEnvironmentSystem(t);break;case"determinant":r=this.translateEnvironmentDeterminant(t);default:throw new s(t)}return r}translateEnvironmentSystem(t){let r=[];for(let e of t.arg)r.push(this.translate(e));return"system("+r.join(",")+")"}}},function(t,r){Error},function(t,r,e){"use strict";function n(t,r,e,s){this.message=t,this.expected=r,this.found=e,this.location=s,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,r){function e(){this.constructor=t}e.prototype=r.prototype,t.prototype=new e}(n,Error),n.buildMessage=function(t,r){var e={literal:function(t){return'"'+s(t.text)+'"'},class:function(t){var r,e="";for(r=0;r<t.parts.length;r++)e+=t.parts[r]instanceof Array?a(t.parts[r][0])+"-"+a(t.parts[r][1]):a(t.parts[r]);return"["+(t.inverted?"^":"")+e+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function s(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var r,n,s,a=new Array(t.length);for(r=0;r<t.length;r++)a[r]=(s=t[r],e[s.type](s));if(a.sort(),a.length>0){for(r=1,n=1;r<a.length;r++)a[r-1]!==a[r]&&(a[n]=a[r],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(t)+" but "+function(t){return t?'"'+s(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:n,parse:function(t,r){r=void 0!==r?r:{};var s,a={},i={root:Ge},o=Ge,u=function(t){return new an("root",t)},c=function(t){return new un(t)},l="{",h=Pe("{",!1),f="}",p=Pe("}",!1),g=function(t){let r=[];return r.push(t),new un(r,"curly")},d="(",x=Pe("(",!1),b=")",m=Pe(")",!1),v=function(t){let r=[];return r.push(t),new un(r,"round")},C="[",w=Pe("[",!1),A="]",y=Pe("]",!1),E=function(t){let r=[];return r.push(t),new un(r,"square")},$=function(t){return t},_="^",k=Pe("^",!1),T="\\circ",O=Pe("\\circ",!1),F=function(t){return new on("degrees",[t])},L=Se("function"),R=function(t){return t},P="f",j=Pe("f",!1),S="g",q=Pe("g",!1),M="h",N=Pe("h",!1),W=function(t){return new ln(t)},G=function(t){return t},H="|",X=Pe("|",!1),z=function(t){return new on("abs",[t])},Z="\\displaystyle",D=Pe("\\displaystyle",!1),U="\\binom",B=Pe("\\binom",!1),I=function(t,r){return new on("binomial",[t,r])},J="\\log",K=Pe("\\log",!1),Q="_",V=Pe("_",!1),Y="10",tt=Pe("10",!1),rt=function(t){return new on("logarithm_10",[t])},et=function(t,r){return new on("logarithm",[t,r])},nt="\\ln",st=Pe("\\ln",!1),at=function(t){return new on("logarithm_ln"[t])},it=function(t,r){return new on("logartihm_10",[r],t)},ot=function(t,r){return new on("logarithm_10",[r],t)},ut=function(t,r,e){return new on("logarithm",[r,e],t)},ct=function(t,r){return new on("logarithm_ln",[r],t)},lt="\\lim",ht=Pe("\\lim",!1),ft=function(t,r){return new on("limit",[...t,r])},pt="\\longrightarrow",gt=Pe("\\longrightarrow",!1),dt=function(t,r){return[t,r]},xt="=",bt=Pe("=",!1),mt=function(t,r,e){return new on("latex_function",[t,r,e])},vt="-",Ct=Pe("-",!1),wt="1",At=Pe("1",!1),yt=function(t,r,e){return new on("latex_function_inverse",[t,r,e])},Et="'",$t=Pe("'",!1),_t="\\prime",kt=Pe("\\prime",!1),Tt=function(t,r,e){return new on("derivative",[t,r,e])},Ot="\\",Ft=Pe("\\",!1),Lt=function(t,r){return new on("regular",[t,r])},Rt=function(t,r,e){return new on("regular",[t,e],r)},Pt=function(t){return new ln(sn[t])},jt="\\frac",St=Pe("\\frac",!1),qt=function(t,r){return new on("fraction",[t,r])},Mt="\\overline",Nt=Pe("\\overline",!1),Wt=function(t){return new on("mean",[t])},Gt="sinh",Ht=Pe("sinh",!1),Xt="cosh",zt=Pe("cosh",!1),Zt="coth",Dt=Pe("coth",!1),Ut="cos",Bt=Pe("cos",!1),It="sec",Jt=Pe("sec",!1),Kt="tan",Qt=Pe("tan",!1),Vt="cot",Yt=Pe("cot",!1),tr="ctg",rr=Pe("ctg",!1),er="csc",nr=Pe("csc",!1),sr="sin",ar=Pe("sin",!1),ir="acos",or=Pe("acos",!1),ur="asin",cr=Pe("asin",!1),lr="arcsin",hr=Pe("arcsin",!1),fr="arccos",pr=Pe("arccos",!1),gr="arcctg",dr=Pe("arcctg",!1),xr="arccot",br=Pe("arccot",!1),mr="arctan",vr=Pe("arctan",!1),Cr=function(t){return new ln(t)},wr="\\sqrt",Ar=Pe("\\sqrt",!1),yr=function(t){return new on("sqrt",[t])},Er=function(t,r){return new on("sqrt",[t,r])},$r="\\int",_r=Pe("\\int",!1),kr="d",Tr=Pe("d",!1),Or=function(t,r){return new on("integral",[t,r])},Fr=function(t,r,e,n){return new on("integral",[t,r,e,n])},Lr=function(t,r,e,n){return new on("integral",[r,t,e,n])},Rr=Se("environment"),Pr="\\begin",jr=Pe("\\begin",!1),Sr="{cases}",qr=Pe("{cases}",!1),Mr="\\end",Nr=Pe("\\end",!1),Wr=function(t,r){return t.push(r),new hn("system",t)},Gr="\\\\",Hr=Pe("\\\\",!1),Xr=Se("number"),zr=" ",Zr=Pe(" ",!1),Dr=function(t){let r=[];for(let e of t)" "!=e&&r.push(e);return new cn(r)},Ur=/^[+\-*\/\^=<>._]/,Br=je(["+","-","*","/","^","=","<",">",".","_"],!1,!1),Ir=function(t){return new ln(t)},Jr=/^[a-zA-Z+\-*\/]/,Kr=je([["a","z"],["A","Z"],"+","-","*","/"],!1,!1),Qr=function(t){return new ln(t)},Vr=function(t){return new ln(sn[t])},Yr=Se("special symbol"),te="\\pi",re=Pe("\\pi",!1),ee="\\infty",ne=Pe("\\infty",!1),se="\\alpha",ae=Pe("\\alpha",!1),ie="\\beta",oe=Pe("\\beta",!1),ue="\\lambda",ce=Pe("\\lambda",!1),le="\\gamma",he=Pe("\\gamma",!1),fe="\\epsilon",pe=Pe("\\epsilon",!1),ge="\\rho",de=Pe("\\rho",!1),xe="\\delta",be=Pe("\\delta",!1),me="\\sigma",ve=Pe("\\sigma",!1),Ce="\\theta",we=Pe("\\theta",!1),Ae=Se("whitespace or endline"),ye=/^[ \t\r\n]/,Ee=je([" ","\t","\r","\n"],!1,!1),$e=/^[0-9.]/,_e=je([["0","9"],"."],!1,!1),ke=function(t){return new ln(t.join(""))},Te=0,Oe=[{line:1,column:1}],Fe=0,Le=[],Re=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');o=i[r.startRule]}function Pe(t,r){return{type:"literal",text:t,ignoreCase:r}}function je(t,r,e){return{type:"class",parts:t,inverted:r,ignoreCase:e}}function Se(t){return{type:"other",description:t}}function qe(r){var e,n=Oe[r];if(n)return n;for(e=r-1;!Oe[e];)e--;for(n={line:(n=Oe[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return Oe[r]=n,n}function Me(t,r){var e=qe(t),n=qe(r);return{start:{offset:t,line:e.line,column:e.column},end:{offset:r,line:n.line,column:n.column}}}function Ne(t){Te<Fe||(Te>Fe&&(Fe=Te,Le=[]),Le.push(t))}function We(t,r,e){return new n(n.buildMessage(t,r),t,r,e)}function Ge(){var t,r,e;for(t=Te,r=[],e=He();e!==a;)r.push(e),e=He();return r!==a&&(t,r=u(r)),t=r}function He(){var t,r,e;if(t=Te,r=[],(e=De())!==a)for(;e!==a;)r.push(e),e=De();else r=a;return r!==a&&(t,r=c(r)),(t=r)===a&&(t=Xe())===a&&(t=ze())===a&&(t=Ze()),t}function Xe(){var r,e,n,s;return r=Te,123===t.charCodeAt(Te)?(e=l,Te++):(e=a,0===Re&&Ne(h)),e!==a&&(n=Ge())!==a?(125===t.charCodeAt(Te)?(s=f,Te++):(s=a,0===Re&&Ne(p)),s!==a?(r,r=e=g(n)):(Te=r,r=a)):(Te=r,r=a),r}function ze(){var r,e,n,s;return r=Te,40===t.charCodeAt(Te)?(e=d,Te++):(e=a,0===Re&&Ne(x)),e!==a&&(n=Ge())!==a?(41===t.charCodeAt(Te)?(s=b,Te++):(s=a,0===Re&&Ne(m)),s!==a?(r,r=e=v(n)):(Te=r,r=a)):(Te=r,r=a),r}function Ze(){var r,e,n,s;return r=Te,91===t.charCodeAt(Te)?(e=C,Te++):(e=a,0===Re&&Ne(w)),e!==a&&(n=Ge())!==a?(93===t.charCodeAt(Te)?(s=A,Te++):(s=a,0===Re&&Ne(y)),s!==a?(r,r=e=E(n)):(Te=r,r=a)):(Te=r,r=a),r}function De(){var r,e;return r=Te,(e=function(){var r;Re++,(r=function(){var r,e,n,s;r=Te,92===t.charCodeAt(Te)?(e=Ot,Te++):(e=a,0===Re&&Ne(Ft));e!==a&&(n=Ke())!==a&&(s=Je())!==a?(r,e=Lt(n,s),r=e):(Te=r,r=a);r===a&&(r=function(){var r,e,n,s,i,o;r=Te,92===t.charCodeAt(Te)?(e=Ot,Te++):(e=a,0===Re&&Ne(Ft));e!==a&&(n=Ke())!==a&&en()!==a?(94===t.charCodeAt(Te)?(s=_,Te++):(s=a,0===Re&&Ne(k)),s!==a&&(i=Ue())!==a&&(o=Je())!==a?(r,e=Rt(n,i,o),r=e):(Te=r,r=a)):(Te=r,r=a);return r}());return r}())===a&&(r=function(){var r,e,n,s;r=Te,t.substr(Te,5)===jt?(e=jt,Te+=5):(e=a,0===Re&&Ne(St));e!==a&&(n=Ie())!==a&&(s=Ie())!==a?(r,e=qt(n,s),r=e):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s;r=Te,124===t.charCodeAt(Te)?(e=H,Te++):(e=a,0===Re&&Ne(X));e!==a&&(n=Ge())!==a?(124===t.charCodeAt(Te)?(s=H,Te++):(s=a,0===Re&&Ne(X)),s!==a?(r,e=z(n),r=e):(Te=r,r=a)):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n;r=Te,t.substr(Te,9)===Mt?(e=Mt,Te+=9):(e=a,0===Re&&Ne(Nt));e!==a&&(n=Ie())!==a?(r,e=Wt(n),r=e):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s;r=Te,t.substr(Te,5)===wr?(e=wr,Te+=5):(e=a,0===Re&&Ne(Ar));e!==a&&(n=Ie())!==a?(r,e=yr(n),r=e):(Te=r,r=a);r===a&&(r=Te,t.substr(Te,5)===wr?(e=wr,Te+=5):(e=a,0===Re&&Ne(Ar)),e!==a&&(n=Ze())!==a&&(s=Ie())!==a?(r,e=Er(n,s),r=e):(Te=r,r=a));return r}())===a&&(r=function(){var r,e,n,s,i,o,u,c,l,h,f;r=Te,t.substr(Te,13)===Z?(e=Z,Te+=13):(e=a,0===Re&&Ne(D));e!==a&&en()!==a?(t.substr(Te,4)===$r?(n=$r,Te+=4):(n=a,0===Re&&Ne(_r)),n!==a&&(s=Ie())!==a&&(i=en())!==a?(100===t.charCodeAt(Te)?(o=kr,Te++):(o=a,0===Re&&Ne(Tr)),o!==a&&(u=en())!==a&&(c=Qe())!==a?(r,e=Or(s,c),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);r===a&&(r=Te,t.substr(Te,13)===Z?(e=Z,Te+=13):(e=a,0===Re&&Ne(D)),e!==a&&en()!==a?(t.substr(Te,4)===$r?(n=$r,Te+=4):(n=a,0===Re&&Ne(_r)),n!==a&&(s=en())!==a?(95===t.charCodeAt(Te)?(i=Q,Te++):(i=a,0===Re&&Ne(V)),i!==a&&(o=Ie())!==a?(94===t.charCodeAt(Te)?(u=_,Te++):(u=a,0===Re&&Ne(k)),u!==a&&(c=Ie())!==a&&(l=Ie())!==a&&en()!==a?(100===t.charCodeAt(Te)?(h=kr,Te++):(h=a,0===Re&&Ne(Tr)),h!==a&&en()!==a&&(f=Qe())!==a?(r,e=Fr(o,c,l,f),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a),r===a&&(r=Te,t.substr(Te,13)===Z?(e=Z,Te+=13):(e=a,0===Re&&Ne(D)),e!==a&&en()!==a?(t.substr(Te,4)===$r?(n=$r,Te+=4):(n=a,0===Re&&Ne(_r)),n!==a&&(s=en())!==a?(94===t.charCodeAt(Te)?(i=_,Te++):(i=a,0===Re&&Ne(k)),i!==a&&(o=Ie())!==a?(95===t.charCodeAt(Te)?(u=Q,Te++):(u=a,0===Re&&Ne(V)),u!==a&&(c=Ie())!==a&&(l=Ie())!==a&&en()!==a?(100===t.charCodeAt(Te)?(h=kr,Te++):(h=a,0===Re&&Ne(Tr)),h!==a&&en()!==a&&(f=Qe())!==a?(r,e=Lr(o,c,l,f),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)));return r}())===a&&(r=function(){var r,e,n,s,i;r=Te,t.substr(Te,13)===Z?(e=Z,Te+=13):(e=a,0===Re&&Ne(D));e!==a&&en()!==a?(t.substr(Te,6)===U?(n=U,Te+=6):(n=a,0===Re&&Ne(B)),n!==a&&(s=Ie())!==a&&(i=Ie())!==a?(r,e=I(s,i),r=e):(Te=r,r=a)):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s,i,o,u,c,g,d;r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K));e!==a&&(n=en())!==a?(95===t.charCodeAt(Te)?(s=Q,Te++):(s=a,0===Re&&Ne(V)),s!==a?(i=Te,123===t.charCodeAt(Te)?(o=l,Te++):(o=a,0===Re&&Ne(h)),o!==a&&(u=en())!==a?(t.substr(Te,2)===Y?(c=Y,Te+=2):(c=a,0===Re&&Ne(tt)),c!==a&&(g=en())!==a?(125===t.charCodeAt(Te)?(d=f,Te++):(d=a,0===Re&&Ne(p)),d!==a?i=o=[o,u,c,g,d]:(Te=i,i=a)):(Te=i,i=a)):(Te=i,i=a),i===a&&(t.substr(Te,2)===Y?(i=Y,Te+=2):(i=a,0===Re&&Ne(tt))),i!==a&&(o=Ie())!==a?(r,e=rt(o),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);r===a&&(r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K)),e!==a&&(n=Ie())!==a?(r,e=rt(n),r=e):(Te=r,r=a),r===a&&(r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K)),e!==a&&(n=en())!==a?(95===t.charCodeAt(Te)?(s=Q,Te++):(s=a,0===Re&&Ne(V)),s!==a&&(i=Ie())!==a&&(o=Ie())!==a?(r,e=et(i,o),r=e):(Te=r,r=a)):(Te=r,r=a),r===a&&(r=Te,t.substr(Te,3)===nt?(e=nt,Te+=3):(e=a,0===Re&&Ne(st)),e!==a&&(n=Ie())!==a?(r,e=at(n),r=e):(Te=r,r=a),r===a&&(r=function(){var r,e,n,s,i,o,u,c,g,d,x;r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K));e!==a&&en()!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&(s=Ue())!==a?(95===t.charCodeAt(Te)?(i=Q,Te++):(i=a,0===Re&&Ne(V)),i!==a?(o=Te,123===t.charCodeAt(Te)?(u=l,Te++):(u=a,0===Re&&Ne(h)),u!==a&&(c=en())!==a?(t.substr(Te,2)===Y?(g=Y,Te+=2):(g=a,0===Re&&Ne(tt)),g!==a&&(d=en())!==a?(125===t.charCodeAt(Te)?(x=f,Te++):(x=a,0===Re&&Ne(p)),x!==a?o=u=[u,c,g,d,x]:(Te=o,o=a)):(Te=o,o=a)):(Te=o,o=a),o===a&&(t.substr(Te,2)===Y?(o=Y,Te+=2):(o=a,0===Re&&Ne(tt))),o!==a&&(u=Ie())!==a?(r,e=it(s,u),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);r===a&&(r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K)),e!==a&&en()!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&(s=Ue())!==a&&(i=Ie())!==a?(r,e=ot(s,i),r=e):(Te=r,r=a)):(Te=r,r=a),r===a&&(r=Te,t.substr(Te,4)===J?(e=J,Te+=4):(e=a,0===Re&&Ne(K)),e!==a&&en()!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&(s=Ue())!==a?(95===t.charCodeAt(Te)?(i=Q,Te++):(i=a,0===Re&&Ne(V)),i!==a&&(o=Ie())!==a&&(u=Ie())!==a?(r,e=ut(s,o,u),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a),r===a&&(r=Te,t.substr(Te,3)===nt?(e=nt,Te+=3):(e=a,0===Re&&Ne(st)),e!==a&&en()!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&(s=Ue())!==a&&(i=Ie())!==a?(r,e=ct(s,i),r=e):(Te=r,r=a)):(Te=r,r=a))));return r}()))));return r}())===a&&(r=function(){var r,e,n,s,i,o;r=Te,t.substr(Te,13)===Z?(e=Z,Te+=13):(e=a,0===Re&&Ne(D));e!==a&&en()!==a?(t.substr(Te,4)===lt?(n=lt,Te+=4):(n=a,0===Re&&Ne(ht)),n!==a&&en()!==a?(95===t.charCodeAt(Te)?(s=Q,Te++):(s=a,0===Re&&Ne(V)),s!==a&&en()!==a&&(i=function(){var r,e,n,s,i,o;r=Te,123===t.charCodeAt(Te)?(e=l,Te++):(e=a,0===Re&&Ne(h));e!==a&&en()!==a&&(n=Qe())!==a&&en()!==a?(t.substr(Te,15)===pt?(s=pt,Te+=15):(s=a,0===Re&&Ne(gt)),s!==a&&en()!==a&&(i=Qe())!==a&&en()!==a?(125===t.charCodeAt(Te)?(o=f,Te++):(o=a,0===Re&&Ne(p)),o!==a?(r,e=dt(n,i),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);return r}())!==a&&(o=Ie())!==a?(r,e=ft(i,o),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s,i,o,u,c;r=Te,(e=Be())!==a&&en()!==a?(39===t.charCodeAt(Te)?(n=Et,Te++):(n=a,0===Re&&Ne($t)),n===a&&(t.substr(Te,6)===_t?(n=_t,Te+=6):(n=a,0===Re&&Ne(kt))),n!==a&&en()!==a?(40===t.charCodeAt(Te)?(s=d,Te++):(s=a,0===Re&&Ne(x)),s!==a&&en()!==a&&(i=Qe())!==a&&en()!==a?(41===t.charCodeAt(Te)?(o=b,Te++):(o=a,0===Re&&Ne(m)),o!==a&&en()!==a?(61===t.charCodeAt(Te)?(u=xt,Te++):(u=a,0===Re&&Ne(bt)),u!==a&&(c=Ge())!==a?(r,e=Tt(e,i,c),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s,i;r=Te,(e=Be())!==a&&en()!==a&&(n=ze())!==a?(61===t.charCodeAt(Te)?(s=xt,Te++):(s=a,0===Re&&Ne(bt)),s!==a&&(i=Ge())!==a?(r,e=mt(e,n,i),r=e):(Te=r,r=a)):(Te=r,r=a);return r}())===a&&(r=function(){var r,e,n,s,i,o,u,c,g,d;r=Te,(e=Be())!==a&&en()!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&en()!==a?(123===t.charCodeAt(Te)?(s=l,Te++):(s=a,0===Re&&Ne(h)),s!==a&&en()!==a?(45===t.charCodeAt(Te)?(i=vt,Te++):(i=a,0===Re&&Ne(Ct)),i!==a?(49===t.charCodeAt(Te)?(o=wt,Te++):(o=a,0===Re&&Ne(At)),o!==a&&en()!==a?(125===t.charCodeAt(Te)?(u=f,Te++):(u=a,0===Re&&Ne(p)),u!==a&&en()!==a&&(c=ze())!==a?(61===t.charCodeAt(Te)?(g=xt,Te++):(g=a,0===Re&&Ne(bt)),g!==a&&(d=Ge())!==a?(r,e=yt(e,c,d),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);return r}());Re--,r===a&&(a,0===Re&&Ne(L));return r}())!==a&&(r,e=$(e)),(r=e)===a&&(r=Te,(e=function(){var r,e,n,s,i,o,u,c,g,d;r=Te,(e=nn())!==a&&(n=en())!==a?(94===t.charCodeAt(Te)?(s=_,Te++):(s=a,0===Re&&Ne(k)),s!==a&&(i=en())!==a?(123===t.charCodeAt(Te)?(o=l,Te++):(o=a,0===Re&&Ne(h)),o!==a&&(u=en())!==a?(t.substr(Te,5)===T?(c=T,Te+=5):(c=a,0===Re&&Ne(O)),c!==a&&(g=en())!==a?(125===t.charCodeAt(Te)?(d=f,Te++):(d=a,0===Re&&Ne(p)),d!==a?(r,e=F(e),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a);r===a&&(r=Te,(e=Ie())!==a?(94===t.charCodeAt(Te)?(n=_,Te++):(n=a,0===Re&&Ne(k)),n!==a&&(s=en())!==a?(123===t.charCodeAt(Te)?(i=l,Te++):(i=a,0===Re&&Ne(h)),i===a&&(i=null),i!==a&&(o=en())!==a?(t.substr(Te,5)===T?(u=T,Te+=5):(u=a,0===Re&&Ne(O)),u!==a&&(c=en())!==a?(125===t.charCodeAt(Te)?(g=f,Te++):(g=a,0===Re&&Ne(p)),g===a&&(g=null),g!==a?(r,e=F(e),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a));return r}())!==a&&(r,e=$(e)),(r=e)===a&&(r=Te,(e=function(){var r;Re++,r=function(){var r,e,n,s,i,o,u;r=Te,t.substr(Te,6)===Pr?(e=Pr,Te+=6):(e=a,0===Re&&Ne(jr));if(e!==a)if(en()!==a)if(t.substr(Te,7)===Sr?(n=Sr,Te+=7):(n=a,0===Re&&Ne(qr)),n!==a){if(s=[],(i=Ve())!==a)for(;i!==a;)s.push(i),i=Ve();else s=a;s!==a&&(i=Ge())!==a?(t.substr(Te,4)===Mr?(o=Mr,Te+=4):(o=a,0===Re&&Ne(Nr)),o!==a&&en()!==a?(t.substr(Te,7)===Sr?(u=Sr,Te+=7):(u=a,0===Re&&Ne(qr)),u!==a?(r,e=Wr(s,i),r=e):(Te=r,r=a)):(Te=r,r=a)):(Te=r,r=a)}else Te=r,r=a;else Te=r,r=a;else Te=r,r=a;return r}(),Re--,r===a&&(a,0===Re&&Ne(Rr));return r}())!==a&&(r,e=$(e)),(r=e)===a&&(r=Te,(e=function(){var r,e,n;Re++,r=Te,e=[],(n=nn())===a&&(n=tn())===a&&(n=Ye())===a&&(32===t.charCodeAt(Te)?(n=zr,Te++):(n=a,0===Re&&Ne(Zr)));if(n!==a)for(;n!==a;)e.push(n),(n=nn())===a&&(n=tn())===a&&(n=Ye())===a&&(32===t.charCodeAt(Te)?(n=zr,Te++):(n=a,0===Re&&Ne(Zr)));else e=a;e!==a&&(r,e=Dr(e));Re--,(r=e)===a&&(e=a,0===Re&&Ne(Xr));return r}())!==a&&(r,e=$(e)),r=e))),r}function Ue(){var t,r;return t=Te,en()!==a&&(r=Xe())!==a&&en()!==a?(t,t=R(r)):(Te=t,t=a),t===a&&(t=Te,en()!==a&&(r=tn())!==a&&en()!==a?(t,t=R(r)):(Te=t,t=a),t===a&&(t=Te,en()!==a&&(r=nn())!==a&&en()!==a?(t,t=R(r)):(Te=t,t=a))),t}function Be(){var r,e;return r=Te,102===t.charCodeAt(Te)?(e=P,Te++):(e=a,0===Re&&Ne(j)),e===a&&(103===t.charCodeAt(Te)?(e=S,Te++):(e=a,0===Re&&Ne(q)),e===a&&(104===t.charCodeAt(Te)?(e=M,Te++):(e=a,0===Re&&Ne(N)))),e!==a&&(r,e=W(e)),r=e}function Ie(){var t,r;return t=Te,en()!==a&&(r=Xe())!==a&&en()!==a?(t,t=G(r)):(Te=t,t=a),t===a&&(t=Te,en()!==a?((r=tn())===a&&(r=nn()),r!==a&&en()!==a?(t,t=G(r)):(Te=t,t=a)):(Te=t,t=a)),t}function Je(){var t,r;return t=Te,en()!==a&&(r=Xe())!==a&&en()!==a?(t,t=R(r)):(Te=t,t=a),t===a&&(t=Te,en()!==a&&(r=rn())!==a&&en()!==a?(t,t=Pt(r)):(Te=t,t=a)),t}function Ke(){var r,e;return r=Te,t.substr(Te,4)===Gt?(e=Gt,Te+=4):(e=a,0===Re&&Ne(Ht)),e===a&&(t.substr(Te,4)===Xt?(e=Xt,Te+=4):(e=a,0===Re&&Ne(zt)),e===a&&(t.substr(Te,4)===Zt?(e=Zt,Te+=4):(e=a,0===Re&&Ne(Dt)),e===a&&(t.substr(Te,3)===Ut?(e=Ut,Te+=3):(e=a,0===Re&&Ne(Bt)),e===a&&(t.substr(Te,3)===It?(e=It,Te+=3):(e=a,0===Re&&Ne(Jt)),e===a&&(t.substr(Te,3)===Kt?(e=Kt,Te+=3):(e=a,0===Re&&Ne(Qt)),e===a&&(t.substr(Te,3)===Vt?(e=Vt,Te+=3):(e=a,0===Re&&Ne(Yt)),e===a&&(t.substr(Te,3)===tr?(e=tr,Te+=3):(e=a,0===Re&&Ne(rr)),e===a&&(t.substr(Te,3)===er?(e=er,Te+=3):(e=a,0===Re&&Ne(nr)),e===a&&(t.substr(Te,3)===sr?(e=sr,Te+=3):(e=a,0===Re&&Ne(ar)),e===a&&(t.substr(Te,4)===ir?(e=ir,Te+=4):(e=a,0===Re&&Ne(or)),e===a&&(t.substr(Te,4)===ur?(e=ur,Te+=4):(e=a,0===Re&&Ne(cr)),e===a&&(t.substr(Te,6)===lr?(e=lr,Te+=6):(e=a,0===Re&&Ne(hr)),e===a&&(t.substr(Te,6)===fr?(e=fr,Te+=6):(e=a,0===Re&&Ne(pr)),e===a&&(t.substr(Te,6)===gr?(e=gr,Te+=6):(e=a,0===Re&&Ne(dr)),e===a&&(t.substr(Te,6)===xr?(e=xr,Te+=6):(e=a,0===Re&&Ne(br)),e===a&&(t.substr(Te,6)===mr?(e=mr,Te+=6):(e=a,0===Re&&Ne(vr)))))))))))))))))),e!==a&&(r,e=Cr(e)),r=e}function Qe(){var t;return(t=tn())===a&&(t=nn()),t}function Ve(){var r,e,n;return r=Te,(e=Ge())!==a?(t.substr(Te,2)===Gr?(n=Gr,Te+=2):(n=a,0===Re&&Ne(Hr)),n!==a?(r,r=e=G(e)):(Te=r,r=a)):(Te=r,r=a),r}function Ye(){var r,e;return r=Te,Ur.test(t.charAt(Te))?(e=t.charAt(Te),Te++):(e=a,0===Re&&Ne(Br)),e!==a&&(r,e=Ir(e)),r=e}function tn(){var r,e;return r=Te,Jr.test(t.charAt(Te))?(e=t.charAt(Te),Te++):(e=a,0===Re&&Ne(Kr)),e!==a&&(r,e=Qr(e)),(r=e)===a&&(r=Te,(e=rn())!==a&&(r,e=Vr(e)),r=e),r}function rn(){var r;return Re++,t.substr(Te,3)===te?(r=te,Te+=3):(r=a,0===Re&&Ne(re)),r===a&&(t.substr(Te,6)===ee?(r=ee,Te+=6):(r=a,0===Re&&Ne(ne)),r===a&&(t.substr(Te,6)===se?(r=se,Te+=6):(r=a,0===Re&&Ne(ae)),r===a&&(t.substr(Te,5)===ie?(r=ie,Te+=5):(r=a,0===Re&&Ne(oe)),r===a&&(t.substr(Te,7)===ue?(r=ue,Te+=7):(r=a,0===Re&&Ne(ce)),r===a&&(t.substr(Te,6)===le?(r=le,Te+=6):(r=a,0===Re&&Ne(he)),r===a&&(t.substr(Te,8)===fe?(r=fe,Te+=8):(r=a,0===Re&&Ne(pe)),r===a&&(t.substr(Te,4)===ge?(r=ge,Te+=4):(r=a,0===Re&&Ne(de)),r===a&&(t.substr(Te,6)===xe?(r=xe,Te+=6):(r=a,0===Re&&Ne(be)),r===a&&(t.substr(Te,6)===me?(r=me,Te+=6):(r=a,0===Re&&Ne(ve)),r===a&&(t.substr(Te,6)===Ce?(r=Ce,Te+=6):(r=a,0===Re&&Ne(we)))))))))))),Re--,r===a&&(a,0===Re&&Ne(Yr)),r}function en(){var r,e;for(Re++,r=[],ye.test(t.charAt(Te))?(e=t.charAt(Te),Te++):(e=a,0===Re&&Ne(Ee));e!==a;)r.push(e),ye.test(t.charAt(Te))?(e=t.charAt(Te),Te++):(e=a,0===Re&&Ne(Ee));return Re--,r===a&&(e=a,0===Re&&Ne(Ae)),r}function nn(){var r,e,n;if(r=Te,e=[],$e.test(t.charAt(Te))?(n=t.charAt(Te),Te++):(n=a,0===Re&&Ne(_e)),n!==a)for(;n!==a;)e.push(n),$e.test(t.charAt(Te))?(n=t.charAt(Te),Te++):(n=a,0===Re&&Ne(_e));else e=a;return e!==a&&(r,e=ke(e)),r=e}let sn={"\\pi":"π","\\infty":"∞","\\alpha":"α","\\epsilon":"ε","\\beta":"β","\\lambda":"λ","\\gamma":"γ","\\rho":"ρ","\\delta":"δ","\\sigma":"σ","\\theta":"θ"},{LatexNode:an,LatexFunction:on,LatexExpression:un,LatexCalcunit:cn,LatexCharacter:ln,LatexEnvironment:hn}=e(8);if((s=o())!==a&&Te===t.length)return s;throw s!==a&&Te<t.length&&Ne({type:"end"}),We(Le,Fe<t.length?t.charAt(Fe):null,Fe<t.length?Me(Fe,Fe+1):Me(Fe,Fe))}}},function(t,r){class e{constructor(t,r){this.arg=r,this.type=t}}t.exports={LatexNode:e,LatexFunction:class extends e{constructor(t,r,e){super("function",r),this.name=t,this.exponent=e}},LatexExpression:class extends e{constructor(t,r){super("expression",t),this.bracketType=r}},LatexCalcunit:class extends e{constructor(t){super("calcunit",t)}},LatexCharacter:class extends e{constructor(t){super("char",t)}},LatexEnvironment:class extends e{constructor(t,r){super("environment",r),this.envType=t}}}}])}));